var angular=require("angular"),ngRoute=require("angular-route"),YTPlayer=require("yt-player"),app=angular.module("myApp",[ngRoute]);require("/angular/modules/artistsModule"),app.config(function(t){t.when("/",{templateUrl:"views/index.html"}),t.when("/albuns/:id/:id",{templateUrl:"views/albuns.html",controller:"searchAlbunsDetails"}).when("/teste",{templateUrl:"views/albuns.html",controller:"seila"}).when("/details/:id",{templateUrl:"views/details.html",controller:"searchBandsDetails"})}),app.run(function(t){t.$on("$locationChangeStart",function(t,a,e){$("html, body").animate({scrollTop:0},"slow"),$("#myModal2").modal("hide")})}),app.controller("getTop",function(t,a){a.get("http://ws.audioscrobbler.com/2.0/?method=chart.gettopartists&limit=10&api_key=d964618b229a40df858f3efb6957d15f&format=json").then(function(a){t.topArtistic=a.data.artists.artist}),a.get("http://ws.audioscrobbler.com/2.0/?method=chart.gettoptracks&limit=10&api_key=d964618b229a40df858f3efb6957d15f&format=json").then(function(a){t.topMusic=a.data.tracks.track}),a.get("http://ws.audioscrobbler.com/2.0/?method=chart.gettoptracks&limit=2&api_key=d964618b229a40df858f3efb6957d15f&format=json").then(function(a){t.topMusicHome=a.data.tracks.track})}),app.controller("searchBands",function(t,a){t.getSearch=function(){var e=t.search;a.get("http://ws.audioscrobbler.com/2.0/?method=artist.search&artist="+e+"&api_key=d964618b229a40df858f3efb6957d15f&format=json").then(function(a){t.myData=a.data.results.artistmatches.artist})}}),app.controller("searchAlbunsDetails",function(t,a){var e,o,r=decodeURI(window.location.toString()),i=r.split("/"),n=r.split("/")[i.length-2],s=r.split("/")[i.length-1],l=new YTPlayer("#player",[{width:"100",height:"50"}]);t.play=function(t){o=$(t.currentTarget).attr("data-video-id"),a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&q="+o+"&key=AIzaSyCoLoQfQ1Y114Bjm7Z5Flq1UaafVslvKvU").then(function(t){e=t.data.items[0].id.videoId,l.load(e),l.play(),$("#myModal3").modal(),$("#myModal3").on("hidden.bs.modal",function(t){l.stop()})})},a.get("http://ws.audioscrobbler.com/2.0/?method=album.getinfo&api_key=d964618b229a40df858f3efb6957d15f&artist="+n+"&album="+s+"&format=json").then(function(a){t.artisticName=n,t.albumName=a.data.album.name,t.albumImage=a.data.album.image[2]["#text"],t.summary=a.data.album.wiki.summary,t.tag=a.data.album.tags.tag[0].name,t.url=a.data.album.url,t.musics=a.data.album.tracks.track,t.date=a.data.album.wiki.published,t.profileHead={color:"white","background-image":"url("+a.data.album.image[5]["#text"]+")","background-size":"auto","background-repeat":"no-repeat","background-size":"cover","background-position":"center"},t.profileHeadTag={"background-color":"rgba(0,0,0,0.5)"}})}),app.controller("searchBandsDetails",function(t,a){var e=decodeURI(window.location.toString()).split("/"),o=e[e.length-1],r=null;a.get("http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist="+o+"&api_key=d964618b229a40df858f3efb6957d15f&format=json").then(function(a){t.name=a.data.artist.name,t.sumario=a.data.artist.bio.summary,t.wikiText="Wiki",t.wikiLink=a.data.artist.bio.links.link.href,t.tag=a.data.artist.tags.tag[0].name,t.image=a.data.artist.image[2]["#text"],t.similar=a.data.artist.similar.artist,r="dd",t.profileHead={color:"white","background-image":"url("+a.data.artist.image[5]["#text"]+")","background-size":"auto","background-repeat":"no-repeat","background-size":"cover","background-position":"center"},t.profileHeadTag={"background-color":"rgba(0,0,0,0.5)"}}),a.get("http://ws.audioscrobbler.com/2.0/?method=artist.gettopalbums&limit=10&artist="+o+"&api_key=d964618b229a40df858f3efb6957d15f&format=json").then(function(a){t.topAlbuns=a.data.topalbums.album}),a.get("http://ws.audioscrobbler.com/2.0/?method=artist.gettoptracks&limit=10&artist="+o+"&api_key=d964618b229a40df858f3efb6957d15f&format=json").then(function(a){t.toptrack=a.data.toptracks.track})});